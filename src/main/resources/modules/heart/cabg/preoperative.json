{
  "name": "preoperative",
  "remarks": [
    "Preoperative Testing. Depends on priority of patient and time available.",
    "",
    "# Priority 1+",
    "Labs:",
    "- CBC",
    "- CMP",
    "- Magnesium",
    "- Phosphorus",
    "- PT/INR",
    "- PTT",
    "- ABG",
    "- Type and Cross",
    "",
    "# Priority 2+",
    "Labs:",
    "- Troponin",
    "- TSH",
    "- A1c",
    "- UA",
    "- NtPro-BNP if Heart Failure",
    "Imaging:",
    "- ECG",
    "- CXR",
    "- Transthoracic echo",
    "- PFTS if COPD",
    "- Carotid doppler if PAD, CVD",
    "- Head CT if CVD",
    "",
    "# Priority 3+",
    "Labs:",
    "- Lipid Panel",
    "Telephone Follow-Up every 2 weeks"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Preoperative Testing"
    },
    "Terminal": {
      "type": "Terminal"
    },
    "Priority 1+": {
      "type": "Simple",
      "direct_transition": "CBC"
    },
    "Priority 2+": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "High_Sensitivity_Cardiac_Troponin_I",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "care_priority_level",
            "operator": ">=",
            "value": 2
          }
        },
        {
          "transition": "Terminal"
        }
      ]
    },
    "Priority 3+": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Record_LipidPanel",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "care_priority_level",
            "operator": ">=",
            "value": 3
          }
        },
        {
          "transition": "Terminal"
        }
      ]
    },
    "Preoperative Testing": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 110467000,
          "display": "Pre-surgery testing (procedure)"
        }
      ],
      "duration": {
        "low": 30,
        "high": 90,
        "unit": "minutes"
      },
      "direct_transition": "Priority 1+"
    },
    "CBC": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "58410-2",
          "display": "Complete blood count (hemogram) panel - Blood by Automated count"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "6690-2",
              "display": "Leukocytes [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 3.4,
            "high": 10.8
          }
        },
        {
          "category": "laboratory",
          "unit": "10*6/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "789-8",
              "display": "Erythrocytes [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 3.77,
            "high": 5.8
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "718-7",
              "display": "Hemoglobin [Mass/volume] in Blood"
            }
          ],
          "range": {
            "low": 11.1,
            "high": 17.7
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "4544-3",
              "display": "Hematocrit [Volume Fraction] of Blood by Automated count"
            }
          ],
          "range": {
            "low": 34,
            "high": 51
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "787-2",
              "display": "MCV [Entitic volume] by Automated count"
            }
          ],
          "range": {
            "low": 79,
            "high": 97
          }
        },
        {
          "category": "laboratory",
          "unit": "pg",
          "codes": [
            {
              "system": "LOINC",
              "code": "785-6",
              "display": "MCH [Entitic mass] by Automated count"
            }
          ],
          "range": {
            "low": 26.6,
            "high": 33
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "786-4",
              "display": "MCHC [Mass/volume] by Automated count"
            }
          ],
          "range": {
            "low": 31.5,
            "high": 35.7
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "788-0",
              "display": "Erythrocyte distribution width [Ratio] by Automated count"
            }
          ],
          "range": {
            "low": 12.3,
            "high": 15.4
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "777-3",
              "display": "Platelets [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 150,
            "high": 450
          }
        }
      ],
      "conditional_transition": [
        {
          "transition": "Comprehensive_Metabolic_Panel_with_Kidney_Damage",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "ckd",
            "operator": "is not nil"
          }
        },
        {
          "transition": "Comprehensive_Metabolic_Panel_with_Normal_Kidney"
        }
      ]
    },
    "Comprehensive_Metabolic_Panel_with_Normal_Kidney": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24323-8",
          "display": "Comprehensive metabolic 2000 panel - Serum or Plasma"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Glucose",
          "codes": [
            {
              "system": "LOINC",
              "code": "2345-7",
              "display": "Glucose [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Urea Nitrogen",
          "codes": [
            {
              "system": "LOINC",
              "code": "3094-0",
              "display": "Urea nitrogen [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "2160-0",
              "display": "Creatinine [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL",
          "vital_sign": "Creatinine"
        },
        {
          "category": "laboratory",
          "vital_sign": "Calcium",
          "codes": [
            {
              "system": "LOINC",
              "code": "17861-6",
              "display": "Calcium [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Sodium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2951-2",
              "display": "Sodium [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Potassium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2823-3",
              "display": "Potassium [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Chloride",
          "codes": [
            {
              "system": "LOINC",
              "code": "2075-0",
              "display": "Chloride [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Carbon Dioxide",
          "codes": [
            {
              "system": "LOINC",
              "code": "2028-9",
              "display": "Carbon dioxide, total [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "unit": "mL/min",
          "codes": [
            {
              "system": "LOINC",
              "code": "33914-3",
              "display": "Glomerular filtration rate/1.73 sq M.predicted"
            }
          ],
          "vital_sign": "EGFR"
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "2885-2",
              "display": "Protein [Mass/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 6,
            "high": 8.5
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "1751-7",
              "display": "Albumin [Mass/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 4,
            "high": 5
          }
        },
        {
          "category": "laboratory",
          "unit": "mg/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "1975-2",
              "display": "Bilirubin.total [Mass/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 0.3,
            "high": 1.2
          }
        },
        {
          "category": "laboratory",
          "unit": "U/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "6768-6",
              "display": "Alkaline phosphatase [Enzymatic activity/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 39,
            "high": 117
          }
        },
        {
          "category": "laboratory",
          "unit": "U/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "1742-6",
              "display": "Alanine aminotransferase [Enzymatic activity/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 0,
            "high": 44
          }
        },
        {
          "category": "laboratory",
          "unit": "U/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "1920-8",
              "display": "Aspartate aminotransferase [Enzymatic activity/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 0,
            "high": 40
          }
        }
      ],
      "direct_transition": "Magnesium"
    },
    "Comprehensive_Metabolic_Panel_with_Kidney_Damage": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24323-8",
          "display": "Comprehensive metabolic 2000 panel - Serum or Plasma"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Glucose",
          "codes": [
            {
              "system": "LOINC",
              "code": "2345-7",
              "display": "Glucose [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Urea Nitrogen",
          "codes": [
            {
              "system": "LOINC",
              "code": "3094-0",
              "display": "Urea nitrogen [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "2160-0",
              "display": "Creatinine [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 2.5,
            "high": 3
          }
        },
        {
          "category": "laboratory",
          "vital_sign": "Calcium",
          "codes": [
            {
              "system": "LOINC",
              "code": "17861-6",
              "display": "Calcium [Mass/volume] in Serum or Plasma"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Sodium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2951-2",
              "display": "Sodium [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Potassium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2823-3",
              "display": "Potassium [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Chloride",
          "codes": [
            {
              "system": "LOINC",
              "code": "2075-0",
              "display": "Chloride [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Carbon Dioxide",
          "codes": [
            {
              "system": "LOINC",
              "code": "2028-9",
              "display": "Carbon dioxide, total [Moles/volume] in Serum or Plasma"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "unit": "mL/min",
          "codes": [
            {
              "system": "LOINC",
              "code": "33914-3",
              "display": "Glomerular filtration rate/1.73 sq M.predicted"
            }
          ],
          "range": {
            "low": 5,
            "high": 14
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "2885-2",
              "display": "Protein [Mass/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 6,
            "high": 8.5
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "1751-7",
              "display": "Albumin [Mass/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 4,
            "high": 5
          }
        },
        {
          "category": "laboratory",
          "unit": "mg/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "1975-2",
              "display": "Bilirubin.total [Mass/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 6,
            "high": 15
          }
        },
        {
          "category": "laboratory",
          "unit": "U/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "6768-6",
              "display": "Alkaline phosphatase [Enzymatic activity/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 39,
            "high": 117
          }
        },
        {
          "category": "laboratory",
          "unit": "U/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "1742-6",
              "display": "Alanine aminotransferase [Enzymatic activity/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 0,
            "high": 44
          }
        },
        {
          "category": "laboratory",
          "unit": "U/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "1920-8",
              "display": "Aspartate aminotransferase [Enzymatic activity/volume] in Serum or Plasma"
            }
          ],
          "range": {
            "low": 0,
            "high": 40
          }
        }
      ],
      "direct_transition": "Magnesium"
    },
    "Magnesium": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "mg/dL",
      "codes": [
        {
          "system": "LOINC",
          "code": "19123-9",
          "display": "Magnesium [Mass/volume] in Serum or Plasma"
        }
      ],
      "range": {
        "low": 1.6,
        "high": 2.3
      },
      "direct_transition": "Phosphorus"
    },
    "Phosphorus": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "mg/dL",
      "codes": [
        {
          "system": "LOINC",
          "code": "2777-1",
          "display": "Phosphate [Mass/volume] in Serum or Plasma"
        }
      ],
      "range": {
        "low": 2.5,
        "high": 4.5
      },
      "distributed_transition": [
        {
          "transition": "Prothrombin Time",
          "distribution": 0.95
        },
        {
          "transition": "Prothrombin Time High",
          "distribution": 0.05
        }
      ]
    },
    "Prothrombin Time": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "34528-0",
          "display": "PT panel - Platelet poor plasma by Coagulation assay"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "s",
          "codes": [
            {
              "system": "LOINC",
              "code": "5902-2",
              "display": "Prothrombin time (PT)"
            }
          ],
          "range": {
            "low": 9.1,
            "high": 12
          }
        },
        {
          "category": "laboratory",
          "unit": "{INR}",
          "codes": [
            {
              "system": "LOINC",
              "code": "6301-6",
              "display": "INR in Platelet poor plasma by Coagulation assay"
            }
          ],
          "range": {
            "low": 0.8,
            "high": 1.2
          }
        }
      ],
      "direct_transition": "Partial thromboplastin time (PTT)"
    },
    "Prothrombin Time High": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "34528-0",
          "display": "PT panel - Platelet poor plasma by Coagulation assay"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "s",
          "codes": [
            {
              "system": "LOINC",
              "code": "5902-2",
              "display": "Prothrombin time (PT)"
            }
          ],
          "range": {
            "low": 9.1,
            "high": 12
          }
        },
        {
          "category": "laboratory",
          "unit": "{INR}",
          "codes": [
            {
              "system": "LOINC",
              "code": "6301-6",
              "display": "INR in Platelet poor plasma by Coagulation assay"
            }
          ],
          "range": {
            "low": 2,
            "high": 3
          }
        }
      ],
      "direct_transition": "Partial thromboplastin time (PTT)"
    },
    "Partial thromboplastin time (PTT)": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "s",
      "codes": [
        {
          "system": "LOINC",
          "code": "3173-2",
          "display": "aPTT in Blood by Coagulation assay"
        }
      ],
      "direct_transition": "Arterial_Blood_Gas",
      "range": {
        "low": 25,
        "high": 40
      }
    },
    "Arterial_Blood_Gas": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24336-0",
          "display": "Gas panel - Arterial blood"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "[pH]",
          "codes": [
            {
              "system": "LOINC",
              "code": "2744-1",
              "display": "pH of Arterial blood"
            }
          ],
          "range": {
            "low": 6.8,
            "high": 7.3
          }
        },
        {
          "category": "laboratory",
          "unit": "mm[Hg]",
          "codes": [
            {
              "system": "LOINC",
              "code": "2019-8",
              "display": "Carbon dioxide [Partial pressure] in Arterial blood"
            }
          ],
          "range": {
            "low": 35,
            "high": 45
          }
        },
        {
          "category": "laboratory",
          "unit": "mm[Hg]",
          "codes": [
            {
              "system": "LOINC",
              "code": "2703-7",
              "display": "Oxygen [Partial pressure] in Arterial blood"
            }
          ],
          "range": {
            "low": 80,
            "high": 100
          }
        },
        {
          "category": "laboratory",
          "unit": "mmol/L",
          "codes": [
            {
              "system": "LOINC",
              "code": "1960-4",
              "display": "Bicarbonate [Moles/volume] in Arterial blood"
            }
          ],
          "range": {
            "low": 22,
            "high": 27
          }
        },
        {
          "category": "vital-signs",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "2708-6",
              "display": "Oxygen saturation in Arterial blood"
            },
            {
              "system": "LOINC",
              "code": "59408-5",
              "display": "Oxygen saturation in Arterial blood by Pulse oximetry"
            }
          ],
          "vital_sign": "Oxygen Saturation"
        }
      ],
      "direct_transition": "TODO Blood Type and Cross"
    },
    "TODO Blood Type and Cross": {
      "type": "Simple",
      "direct_transition": "Priority 2+",
      "remarks": [
        "Synthea patients do not yet have blood types or Rh factors."
      ]
    },
    "High_Sensitivity_Cardiac_Troponin_I": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "89577-1",
          "display": "Troponin I.cardiac panel - Serum or Plasma by High sensitivity method"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "pg/mL",
          "codes": [
            {
              "system": "LOINC",
              "code": "89579-7",
              "display": "Troponin I.cardiac [Mass/volume] in Serum or Plasma by High sensitivity method"
            }
          ],
          "range": {
            "low": 0,
            "high": 0.04
          }
        }
      ],
      "direct_transition": "TSH_panel_result"
    },
    "TSH_panel_result": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "m[IU]/L",
      "codes": [
        {
          "system": "LOINC",
          "code": "3016-3",
          "display": "Thyrotropin [Units/volume] in Serum or Plasma"
        }
      ],
      "range": {
        "low": 2,
        "high": 5
      },
      "direct_transition": "Record_HA1C"
    },
    "Record_HA1C": {
      "type": "Observation",
      "vital_sign": "Blood Glucose",
      "category": "laboratory",
      "codes": [
        {
          "system": "LOINC",
          "code": "4548-4",
          "display": "Hemoglobin A1c/Hemoglobin.total in Blood"
        }
      ],
      "unit": "%",
      "conditional_transition": [
        {
          "transition": "Urinalysis Abnormal",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "diabetes",
                "operator": "is not nil"
              },
              {
                "condition_type": "Attribute",
                "attribute": "ckd",
                "operator": "is not nil"
              }
            ]
          }
        },
        {
          "transition": "Urinalysis"
        }
      ]
    },
    "NTproBNP_lab_workup": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "pg/mL",
      "codes": [
        {
          "system": "LOINC",
          "code": "33762-6",
          "display": "NT-proBNP"
        }
      ],
      "range": {
        "low": 200,
        "high": 2000
      },
      "direct_transition": "Imaging"
    },
    "Imaging": {
      "type": "Simple",
      "direct_transition": "Electrocardiogram (ECG)"
    },
    "Record_LipidPanel": {
      "type": "DiagnosticReport",
      "number_of_observations": 4,
      "codes": [
        {
          "system": "LOINC",
          "code": "57698-3",
          "display": "Lipid Panel"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Total Cholesterol",
          "codes": [
            {
              "system": "LOINC",
              "code": "2093-3",
              "display": "Total Cholesterol"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Triglycerides",
          "codes": [
            {
              "system": "LOINC",
              "code": "2571-8",
              "display": "Triglycerides"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "LDL",
          "codes": [
            {
              "system": "LOINC",
              "code": "18262-6",
              "display": "Low Density Lipoprotein Cholesterol"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "HDL",
          "codes": [
            {
              "system": "LOINC",
              "code": "2085-9",
              "display": "High Density Lipoprotein Cholesterol"
            }
          ],
          "unit": "mg/dL"
        }
      ],
      "direct_transition": "Terminal"
    },
    "Echocardiography": {
      "type": "ImagingStudy",
      "procedure_code": {
        "system": "SNOMED-CT",
        "code": 40701008,
        "display": "Echocardiography (procedure)"
      },
      "series": [
        {
          "body_site": {
            "system": "SNOMED-CT",
            "code": 80891009,
            "display": "Heart structure (body structure)"
          },
          "modality": {
            "system": "DICOM-DCM",
            "code": "US",
            "display": "Ultrasound"
          },
          "instances": [
            {
              "title": "Ultrasound Multiframe Image Storage",
              "sop_class": {
                "system": "DICOM-SOP",
                "code": "1.2.840.10008.5.1.4.1.1.3.1",
                "display": "Ultrasound Multiframe Image Storage"
              }
            }
          ]
        }
      ],
      "direct_transition": "Report_workup_imaging"
    },
    "Report_workup_imaging": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "55405-5",
          "display": "Heartfailure Tracking Panel"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "10230-1",
              "display": "Left ventricular Ejection fraction"
            }
          ],
          "vital_sign": "Left ventricular Ejection fraction"
        }
      ],
      "direct_transition": "PFTS Check"
    },
    "Electrocardiogram (ECG)": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 29303009,
          "display": "Electrocardiographic procedure (procedure)"
        }
      ],
      "duration": {
        "low": 20,
        "high": 30,
        "unit": "minutes"
      },
      "direct_transition": "Chest_X_Ray"
    },
    "Chest_X_Ray": {
      "type": "ImagingStudy",
      "procedure_code": {
        "system": "SNOMED-CT",
        "code": 399208008,
        "display": "Plain chest X-ray (procedure)"
      },
      "series": [
        {
          "body_site": {
            "system": "SNOMED-CT",
            "code": 51185008,
            "display": "Thoracic structure (body structure)"
          },
          "modality": {
            "system": "DICOM-DCM",
            "code": "CR",
            "display": "Computed Radiography"
          },
          "instances": [
            {
              "title": "Title of this image",
              "sop_class": {
                "system": "DICOM-SOP",
                "code": "1.2.840.10008.5.1.4.1.1.1.1",
                "display": "Digital X-Ray Image Storage – for Presentation"
              }
            }
          ]
        }
      ],
      "direct_transition": "Echocardiography"
    },
    "PFTS Check": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Pulmonary function testing",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "copd_variant",
            "operator": "is not nil"
          }
        },
        {
          "transition": "Doppler Check"
        }
      ]
    },
    "Pulmonary function testing": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 23426006,
          "display": "Measurement of respiratory function (procedure)"
        }
      ],
      "duration": {
        "low": 30,
        "high": 60,
        "unit": "minutes"
      },
      "direct_transition": "Doppler Check"
    },
    "Doppler Check": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Doppler ultrasonography of artery",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "coronary_heart_disease",
            "operator": "is not nil"
          }
        },
        {
          "transition": "Priority 3+"
        }
      ]
    },
    "Doppler ultrasonography of artery": {
      "type": "ImagingStudy",
      "procedure_code": {
        "system": "SNOMED-CT",
        "code": 709979004,
        "display": "Doppler ultrasonography of artery (procedure)"
      },
      "series": [
        {
          "body_site": {
            "system": "SNOMED-CT",
            "code": 51345006,
            "display": "Carotid body structure (body structure)"
          },
          "modality": {
            "system": "DICOM-DCM",
            "code": "US",
            "display": "Ultrasound"
          },
          "instances": [
            {
              "title": "Ultrasound Multiframe Image Storage",
              "sop_class": {
                "system": "DICOM-SOP",
                "code": "1.2.840.10008.5.1.4.1.1.3.1",
                "display": "Ultrasound Multiframe Image Storage"
              }
            }
          ]
        }
      ],
      "direct_transition": "Computed tomography of head"
    },
    "Computed tomography of head": {
      "type": "ImagingStudy",
      "procedure_code": {
        "system": "SNOMED-CT",
        "code": 303653007,
        "display": "Computed tomography of head (procedure)"
      },
      "series": [
        {
          "body_site": {
            "system": "SNOMED-CT",
            "code": 69536005,
            "display": "Head structure (body structure)"
          },
          "modality": {
            "system": "DICOM-DCM",
            "code": "CT",
            "display": "Computed Tomography"
          },
          "instances": [
            {
              "title": "CT Image Storage",
              "sop_class": {
                "system": "DICOM-SOP",
                "code": "1.2.840.10008.5.1.4.1.1.2",
                "display": "CT Image Storage"
              }
            }
          ]
        }
      ],
      "direct_transition": "Priority 3+"
    },
    "Urinalysis": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24356-8",
          "display": "Urinalysis complete panel - Urine"
        },
        {
          "system": "LOINC",
          "code": "24357-6",
          "display": "Urinalysis macro (dipstick) panel - Urine"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "25428-4",
              "display": "Glucose [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5770-3",
              "display": "Bilirubin.total [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "2514-8",
              "display": "Ketones [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{urine specific gravity}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5811-5",
              "display": "Specific gravity of Urine by Test strip"
            }
          ],
          "range": {
            "low": 1.005,
            "high": 1.025
          }
        },
        {
          "category": "laboratory",
          "unit": "[pH]",
          "codes": [
            {
              "system": "LOINC",
              "code": "5803-2",
              "display": "pH of Urine by Test strip"
            }
          ],
          "range": {
            "low": 4.5,
            "high": 8
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "20454-5",
              "display": "Protein [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5802-4",
              "display": "Nitrite [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5794-3",
              "display": "Hemoglobin [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5799-2",
              "display": "Leukocyte esterase [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        }
      ],
      "direct_transition": "Check CHF"
    },
    "Urinalysis Abnormal": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24356-8",
          "display": "Urinalysis complete panel - Urine"
        },
        {
          "system": "LOINC",
          "code": "24357-6",
          "display": "Urinalysis macro (dipstick) panel - Urine"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "25428-4",
              "display": "Glucose [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 1
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5770-3",
              "display": "Bilirubin.total [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 1
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "2514-8",
              "display": "Ketones [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 1
          }
        },
        {
          "category": "laboratory",
          "unit": "{urine specific gravity}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5811-5",
              "display": "Specific gravity of Urine by Test strip"
            }
          ],
          "range": {
            "low": 1.005,
            "high": 1.025
          }
        },
        {
          "category": "laboratory",
          "unit": "[pH]",
          "codes": [
            {
              "system": "LOINC",
              "code": "5803-2",
              "display": "pH of Urine by Test strip"
            }
          ],
          "range": {
            "low": 4.5,
            "high": 8
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "20454-5",
              "display": "Protein [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 1
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5802-4",
              "display": "Nitrite [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 1
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5794-3",
              "display": "Hemoglobin [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "5799-2",
              "display": "Leukocyte esterase [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        }
      ],
      "direct_transition": "Check CHF"
    },
    "Check CHF": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "NTproBNP_lab_workup",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "chf",
            "operator": "is not nil"
          }
        },
        {
          "transition": "Imaging"
        }
      ]
    }
  }
}